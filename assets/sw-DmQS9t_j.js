const n="iching-explorer-v1.2",i="/iching-explorer-public",h=[i+"/",i+"/index.html",i+"/manifest.json",...Array(64).keys().map(t=>`${i}/hexagramJSONS/hexagram${t+1}.json`)];self.addEventListener("install",t=>{t.waitUntil(caches.open(n).then(r=>r.addAll(h)))});self.addEventListener("fetch",t=>{t.request.method!=="GET"||!t.request.url.startsWith("http")||t.respondWith(caches.match(t.request).then(r=>r||fetch(t.request).then(e=>{if(!e||e.status!==200||e.type!=="basic")return e;var a=e.clone();return caches.open(n).then(c=>{c.put(t.request,a)}),e})))});self.addEventListener("activate",t=>{const r=[n];t.waitUntil(caches.keys().then(e=>Promise.all(e.map(a=>{if(r.indexOf(a)===-1)return caches.delete(a)}))))});
